"use strict";angular.module("redmartApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/complaintsMain.html",controller:"ComplaintsCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("redmartApp").controller("ComplaintsCtrl",["$scope","redmartServices","$modal",function(a,b,c){a.getComplaints=function(){b.getComplaints().success(function(b){a.complaints=b.complaints}).error(function(){a.msg="Error in processing your request"})},a.getComplaints(),a.showComments=function(b){a.comments=b;c.open({templateUrl:"views/showComments.html",scope:a,keyboard:!0,backdrop:"static",size:"md"})},a.changeStatus=function(){},a.assignTo=function(c){b.assignComplaintTo(c.id,c.assignedTo).success(function(a){c.showAssignTo=!c.showAssignTo}).error(function(){a.msg="Error in processing your request"})},a.showCreateComplaint=function(){a.complaint={};c.open({templateUrl:"views/createComplaint.html",scope:a,keyboard:!0,backdrop:"static",size:"md"})},a.createComplaint=function(){a.payload={complaintMessage:a.complaint.complaintMessage,customerId:"5630c49c550d646562723d22"},b.createComplaint(a.payload).success(function(b){alert("complaint created successfully"),a.getComplaints()}).error(function(){a.msg="Error in processing your request"})}}]),angular.module("redmartApp").factory("redmartServices",["$http",function(a){var b={},c={method:"http",host:"localhost",port:9e3};return b.getComplaints=function(){return a.get(c.method+"://"+c.host+":"+c.port+"/customer/complaints")},b.createComplaint=function(b){return a.post(c.method+"://"+c.host+":"+c.port+"/customer/complaint",b)},b.changeComplaintStatus=function(b,d){return a.put(c.method+"://"+c.host+":"+c.port+"/customer/complaint/"+b+"/status/"+d)},b.assignComplaintTo=function(b,d){return a.put(c.method+"://"+c.host+":"+c.port+"/customer/complaint/"+b+"/assignto/"+d,{})},b.getCustomers=function(){return a.get(c.method+"://"+c.host+":"+c.port+"/customers")},b}]),angular.module("redmartApp").directive("customers",["$http","redmartServices",function(a,b){var c={};return c.restrict="E",c.link=function(a,c,d){b.getCustomers().success(function(a){console.log(a)}).error(function(){$scope.msg="Error in processing your request"})},c}]);